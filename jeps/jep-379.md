JEP 379: Shenandoah: A Low-Pause-Time Garbage Collector (Production)
======================================================================

| Owner | Aleksey Shipilev | 
| Type | Feature | 
| Scope | Implementation | 
| Status | Closed / Delivered | 
| Release | 15 | 
| Component | hotspot / gc | 
| Discussion | hotspot dash gc dash dev at openjdk dot java dot net | 
| Effort | XS | 
| Duration | XS | 
| Reviewed by | Andrew Hughes, Roman Kennke | 
| Endorsed by | Mark Reinhold | 
| Created | 2020/03/23 16:53 | 
| Updated | 2021/11/10 08:51 | 
| Issue | 8241457](https://bugs.openjdk.org/browse/JDK-8241457) | 

## Summary

Change the Shenandoah garbage collector from an experimental feature into a product feature.

## Non-Goals

- 
This JEP does not propose to change the default GC, which remains G1.

- 
This JEP does not propose to change the Shenandoah development process, which will continue to support both the latest JDK and popular LTS/STS JDKs.

## Motivation

Shenandoah was integrated into JDK 12 byJEP 189](https://openjdk.java.net/jeps/189). It was marked as experimental in order to match the status of other new GCs, notably Epsilon GC and ZGC. Now Shenandoah is ready to drop its experimental status in mainline JDKs, as was recently suggested for ZGC inJEP 377](https://openjdk.java.net/jeps/377).

## Description

In JDK 12 and later, Shenandoah is enabled via the`-XX:+UnlockExperimentalVMOptions -XX:+UseShenandoahGC`options. Making Shenandoah a product feature means that`-XX:+UnlockExperimentalVMOptions`would no longer be needed. A bunch of related Shenandoah options would turn from "experimental" to "product", subject to review. The default values for the options would not change. It makes this change a rather cosmetic change in flag classes.

At the time of its integration into JDK 12, Shenandoah had been already shipping in Red Hat 8u and 11u downstream releases as a supported garbage collector, and used by RHEL and RHEL downstream users. Because of this,Shenandoah 8u](http://hg.openjdk.java.net/shenandoah/jdk8/hotspot/file/94cff2b5b527/src/share/vm/runtime/globals.hpp#l1430)andShenandoah 11u](http://hg.openjdk.java.net/shenandoah/jdk11/file/b38bed0d15d5/src/hotspot/share/gc/shared/gc_globals.hpp#l201)are already non-experimental and thus not affected by this change. Since there are only a few users that run something other than 8u and 11u, we expect the actual impact of this change to be minuscule.

## Testing

Testing changes are expected to be little to none. This is largely because the Shenandoah code is synced across 8u, 11u, 14u, and dev, and tests already accept that Shenandoah can be either "experimental" or "product".